process CandSelection = {

include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
    untracked vstring fileNames = { "file:genevents.root" }
    untracked int32 maxEvents = 50
  }

  module Zmc = PdgIdCandSelector {
    InputTag src = genParticleCandidates
    vint32 pdgId = { 23 } #Z0
  }

  module out = PoolOutputModule { 
    untracked string fileName = "selectedevents.root" 
    untracked vstring outputCommands = {
      "drop *",
      "keep *_genParticleCandidates_*_*",
      "keep *_Zmc_*_*"
    }  
  }

  module printEventNumber = AsciiOutputModule { 
  }

  path p = { 
    Zmc
  }

  endpath o = { 
    out, printEventNumber 
  }
}
