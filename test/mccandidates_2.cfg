process MCCand = {

include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
    untracked vstring fileNames = { 
      "file:aodsim_0.root",
      "file:aodsim_1.root"
    }
    untracked int32 maxEvents = -1
  }

include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidates.cfi"

  module out = PoolOutputModule { 
    untracked string fileName = "gen.root" 
    untracked vstring outputCommands = {
      "drop *",
      "keep edmHepMCProduct_VtxSmeared_*_*",
      "keep *_genCandidates_*_*",
      "keep *_genParticleCandidates_*_*"
    }  
  }

  module printTree = ParticleTreeDrawer {
    InputTag src = genParticleCandidates
#    untracked bool printP4 = true
#    untracked bool printPtEtaPhi = true
#    untracked bool printStatus = true
  }	

  module printEventNumber = AsciiOutputModule { }

  path p = { 
    genParticleCandidates,
    printTree 
  }

  endpath o = { 
    out, printEventNumber 
  }
}
