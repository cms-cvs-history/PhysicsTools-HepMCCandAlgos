process MCCand = {

include "FWCore/MessageLogger/data/MessageLogger.cfi"
include "PhysicsTools/HepMCCandAlgos/data/genCandidates.cfi"
include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidates.cfi"
include "PhysicsTools/HepMCCandAlgos/test/ttbar.cff"

  module out = PoolOutputModule { 
    untracked string fileName = "gen.root" 
    untracked vstring outputCommands = {
      "drop *",
      "keep edmHepMCProduct_source_*_*",
      "keep *_genCandidates_*_*",
      "keep *_genParticleCandidates_*_*"
    }  
  }

  module printTree = ParticleTreeDrawer {
    InputTag src = genParticleCandidates
#    untracked bool printP4 = true
#    untracked bool printPtEtaPhi = true
#    untracked bool printStatus = true
  }	

  module printEventNumber = AsciiOutputModule { }

  path p = { 
    VtxSmeared, 
    genCandidates, 
    genParticleCandidates,
    printTree 
  }

  endpath o = { 
    out, printEventNumber 
  }
}
